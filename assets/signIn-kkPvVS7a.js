import{z as c,b as i,M as u,N as t}from"./index-DOPEaoM8.js";const d=c("signIn",()=>{const s=i(),n=u();return{userSignIn:async e=>{try{const o=await t.post("admin/signin",e);if(o.data.success){const{token:r,expired:a}=o.data;document.cookie=`axiosToken=${r}; expires=${new Date(a)}`,n.getCookie(),s.push({name:"HexSchoolFinal"})}else alert("登入失敗")}catch(o){console.log(o)}},checkSignIn:()=>{try{n.getCookie(),t.post("api/user/check").then(e=>{e.data.success||(alert("請重新登入"),s.push({name:"UserLogin"}))})}catch(e){console.log(e)}},userLogout:()=>{try{t.post("logout").then(e=>{e.data.success&&(alert("已登出"),s.push({name:"UserLogin"}))})}catch(e){console.log(e)}}}});export{d as u};
