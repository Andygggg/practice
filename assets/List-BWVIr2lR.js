import{C as K,D as Y,r as f,E as x,A as I,G as J,H as Q,i as k,a as X,I as Z,o as g,d as D,e as l,t as y,F as U,f as N,s as E,p as W,h as j,J as ee,j as L,u as te,q as ae}from"./index-DBSPOvpD.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O="https://www.gstatic.com/charts/loader.js";let S=null;const C=new Map;function ne(){return window.google!==void 0?Promise.resolve(window.google.charts):(S===null&&(S=new Promise(e=>{const a=document.querySelector('script[src="'.concat(O,'"]')),n=a||document.createElement("script");a||(n.src=O,n.type="text/javascript",document.head.append(n)),n.onload=()=>{window.google!==void 0&&e(window.google.charts)}})),S)}async function se(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current",{packages:a=["corechart","controls"],language:n="en",mapsApiKey:r}=arguments.length>1?arguments[1]:void 0;const i=await ne(),s="".concat(e,"_").concat(a.join("_"),"_").concat(n);if(C.has(s))return C.get(s);const t=new Promise(v=>{i.load(e,{packages:a,language:n,mapsApiKey:r}),i.setOnLoadCallback(()=>v(window.google))});return C.set(s,t),t}function oe(e,a,n){return e!==null&&a instanceof e.visualization.DataTable||e!==null&&a instanceof e.visualization.DataView?a:e!==null&&Array.isArray(a)?e.visualization.arrayToDataTable(a,n):e!==null&&a!==null&&typeof a=="object"?new e.visualization.DataTable(a):null}function $(e,a,n,r,i,s){const t=(u,p,h)=>{if(h===void 0)throw new Error("please, provide chart type property");return new p.visualization[h](u)};if(e===null)throw new Error("please, provide charts lib property");if(n===null)throw new Error("please, provide chart element property");return a=(s||t)(n,e,r),le(e,a,i),a}function le(e,a,n){if(n!==null)for(const[r,i]of Object.entries(n))e!==null&&a!==null&&e.visualization.events.addListener(a,r,i)}function A(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,n;function r(){return a}return function(){for(var s=arguments.length,t=new Array(s),v=0;v<s;v++)t[v]=arguments[v];const u=this,p=function(){n=void 0,e.apply(u,t)};n!==void 0&&clearTimeout(n),n=setTimeout(p,r())}}let b=null;const G=Y({name:"GChart",props:{type:{type:String,required:!0},data:{type:[Array,Object,null],default:()=>[]},isFirstRowLabels:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},version:{type:String,default:"current"},settings:{type:Object,default:()=>({packages:["corechart","table"]})},events:{type:Object,default:null},createChart:{type:Function,default:void 0},resizeDebounce:{type:Number,default:200}},setup(e,a){let{emit:n}=a;const r=f(null),i=f(null);function s(){if(b===null||r.value===null)return;const t=oe(b,e.data,e.isFirstRowLabels);if(t!==null){var v;(v=r.value)===null||v===void 0||v.draw(t,e.options)}}return x(()=>e.data,()=>s(),{deep:!0}),x(()=>e.options,()=>s(),{deep:!0}),x(()=>e.type,()=>{r.value=$(b,r.value,i.value,e.type,e.events,e.createChart),s()}),I(()=>{se(e.version,e.settings).then(t=>{t!==void 0&&(b=t,r.value=$(b,r.value,i.value,e.type,e.events,e.createChart),n("ready",r.value,t),s())}),e.resizeDebounce>0&&window.addEventListener("resize",A(s,e.resizeDebounce))}),J(()=>{r.value!==null&&typeof r.value.clearChart=="function"&&r.value.clearChart(),e.resizeDebounce>0&&window.removeEventListener("resize",A(s,e.resizeDebounce))}),()=>Q("div",{ref:i},[])}}),H=K({});function re(){H.component("GChart",G)}const ie={version:"1.1.0",install:re};let T=null;typeof window<"u"&&(T=window.Vue);T!=null&&H.use(ie);const F=e=>(W("data-v-14b38fe8"),e=e(),j(),e),ce={class:"calendar_container"},de={class:"calender"},ue={class:"calender_header"},ve=F(()=>l("i",{class:"bx bxs-chevron-left"},null,-1)),_e=[ve],he=F(()=>l("i",{class:"bx bxs-chevron-right"},null,-1)),fe=[he],pe=F(()=>l("div",{class:"calender_week"},[l("div",null,"日"),l("div",null,"一"),l("div",null,"二"),l("div",null,"三"),l("div",null,"四"),l("div",null,"五"),l("div",null,"六")],-1)),ge={class:"calender_day"},De=["onClick"],we={__name:"MakeCalendar",emits:["getDay"],setup(e,{emit:a}){const n=new Date,r=k(()=>i.value==n.toLocaleDateString()?n.toLocaleDateString():i.value),i=f(n.toLocaleDateString()),s=f(n.getFullYear()),t=f(n.getMonth()+1),v=X([{name:"代辦事項A",start_date:"2023/11/3",final_date:"2023/11/10"},{name:"代辦事項B",start_date:"2023/11/4",final_date:"2023/11/11"},{name:"代辦事項c",start_date:"2023/11/5",final_date:"2023/11/30"},{name:"代辦事項d",start_date:"2023/12/6",final_date:"2023/12/8"}]),u=k(()=>{const d=new Date(s.value,t.value-1,1);return d.setMonth(d.getMonth()+1),d.setDate(d.getDate()-1),d.getDate()}),p=k(()=>{const d=[],z=new Date(s.value,t.value-1,1),w=new Date(s.value,t.value-1,u.value),m=new Date(s.value,t.value-1,0).getDate();for(let c=0;c<z.getDay();c++){const _=new Date(s.value,t.value-2,m-c);let o=null;switch(_.getDay()){case 0:o="SUN";break;case 1:o="MON";break;case 2:o="TUE";break;case 3:o="WED";break;case 4:o="THU";break;case 5:o="FRI";break;case 6:o="SAT";break}d.unshift({Date:_,DayOfWeek:o,Month:t.value-1,Format_Date:_.toLocaleDateString(),Today:m-c,ToDoList:[]})}for(let c=1;c<=u.value;c++){const _=new Date(s.value,t.value-1,c);let o=null;switch(_.getDay()){case 0:o="SUN";break;case 1:o="MON";break;case 2:o="TUE";break;case 3:o="WED";break;case 4:o="THU";break;case 5:o="FRI";break;case 6:o="SAT";break}d.push({Date:_,DayOfWeek:o,Month:t.value,Format_Date:_.toLocaleDateString(),Today:c,ToDoList:[]})}for(let c=0;c<6-w.getDay();c++){const _=new Date(s.value,t.value,c+1);let o=null;switch(_.getDay()){case 0:o="SUN";break;case 1:o="MON";break;case 2:o="TUE";break;case 3:o="WED";break;case 4:o="THU";break;case 5:o="FRI";break;case 6:o="SAT";break}d.push({Date:_,DayOfWeek:o,Month:t.value+1,Format_Date:_.toLocaleDateString(),Today:c+1,ToDoList:[]})}return d.forEach(c=>{const _=Z(v).filter(o=>Date.parse(o.start_date)<=Date.parse(c.Format_Date)&&Date.parse(o.final_date)>=Date.parse(c.Format_Date));c.ToDoList.push(..._)}),d}),h=()=>{t.value-=1,t.value<1&&(t.value=12,s.value-=1)},V=()=>{t.value+=1,t.value>12&&(t.value=1,s.value+=1)},M=f([]),R=d=>{i.value=d.Format_Date,M.value=d},q=a;return x(M,d=>{q("getDay",d)}),(d,z)=>(g(),D("div",ce,[l("div",de,[l("div",ue,[l("button",{onClick:h},_e),l("span",null,y(s.value)+"年"+y(t.value)+"月",1),l("button",{onClick:V},fe)]),pe,l("div",ge,[(g(!0),D(U,null,N(p.value,(w,m)=>(g(),D("div",{key:m,class:E(["date_header",{active:w.Format_Date===r.value}]),onClick:c=>R(w)},[l("span",{class:E({other_month:t.value!==w.Month})},y(w.Today),3)],10,De))),128))])])]))}},be=B(we,[["__scopeId","data-v-14b38fe8"]]),P=e=>(W("data-v-6da1b9e3"),e=e(),j(),e),ye={class:"workList_box"},me={class:"chart_box"},xe={class:"chart"},ke=P(()=>l("span",null,"鑽探作業進度",-1)),Se=ae('<div class="chart_value" data-v-6da1b9e3><div data-v-6da1b9e3><span class="chart_number" data-v-6da1b9e3>11/件</span><span class="chart_word" data-v-6da1b9e3><div class="red" data-v-6da1b9e3></div> 未執行</span></div><div data-v-6da1b9e3><span class="chart_number" data-v-6da1b9e3>11/件</span><span class="chart_word" data-v-6da1b9e3><div class="orange" data-v-6da1b9e3></div> 執行中</span></div><div data-v-6da1b9e3><span class="chart_number" data-v-6da1b9e3>22/件</span><span class="chart_word" data-v-6da1b9e3><div class="green" data-v-6da1b9e3></div> 已完成</span></div></div>',1),Ce={class:"calendar_box"},Te={class:"bottom_box"},Fe=P(()=>l("span",{class:"todo_header"},"代辦事項",-1)),Me={key:0,class:"todo_status"},ze={key:1,class:"todo_finish"},Ee={class:"todo_content"},Le={__name:"List",setup(e){const a=f([{title:"工作歷程建立中工作歷程建立中工作歷程建立中18_1",people:"xxx",isStatus:!0,date:"2024/6/18"},{title:"工作歷程建立中工作歷程建立中工作歷程建立中18_2",people:"xxx",isStatus:!1,date:"2024/6/18"},{title:"工作歷程建立中工作歷程建立中工作歷程建立中18_3",people:"xxx",isStatus:!1,date:"2024/6/18"},{title:"工作歷程建立中工作歷程建立中工作歷程建立中18_4",people:"xxx",isStatus:!1,date:"2024/6/18"},{title:"工作歷程建立中工作歷程建立中工作歷程建立中16",people:"xxx",isStatus:!1,date:"2024/6/16"},{title:"工作歷程建立中工作歷程建立中工作歷程建立中15",people:"xxx",isStatus:!1,date:"2024/6/15"},{title:"工作歷程建立中工作歷程建立中工作歷程建立中13",people:"xxx",isStatus:!1,date:"2024/6/13"},{title:"工作歷程建立中工作歷程建立中工作歷程建立中19",people:"xxx",isStatus:!1,date:"2024/6/19"},{title:"工作歷程建立中工作歷程建立中工作歷程建立中20",people:"xxx",isStatus:!1,date:"2024/6/20"}]),n=f([["Task","Hours per Day"],["未執行",12],["執行中",11],["已完成",22]]),r=f({chartArea:{width:"100%",height:"100%"},width:200,height:200,legend:"none",pieHole:.5,backgroundColor:"none",slices:[{color:"green"},{color:"orange"},{color:"red"}]}),i=()=>{const u=document.querySelector(".chart");if(u){const p=u.offsetWidth*.8,h=u.offsetHeight*.8;p<=200||h<=200?(r.value.width=200,r.value.height=200):(r.value.width=`${p}`,r.value.height=`${h}`)}};I(()=>{window.addEventListener("resize",i),i()}),ee(()=>{window.removeEventListener("resize",i)});const s=f(new Date().toLocaleDateString()),t=u=>{console.log(u),s.value=u.Format_Date,console.log(s.value)},v=k(()=>a.value.filter(u=>u.date==s.value));return(u,p)=>(g(),D("div",ye,[l("div",me,[l("div",xe,[ke,L(te(G),{type:"PieChart",data:n.value,options:r.value},null,8,["data","options"])]),Se]),l("div",Ce,[L(be,{class:"top_box",onGetDay:t}),l("div",Te,[Fe,l("ul",null,[(g(!0),D(U,null,N(v.value,h=>(g(),D("li",{key:h},[h.isStatus?(g(),D("span",ze,"已完成")):(g(),D("span",Me,"處理中")),l("div",Ee,[l("span",null,y(h.title),1),l("span",null,"By "+y(h.people),1)])]))),128))])])])]))}},Ae=B(Le,[["__scopeId","data-v-6da1b9e3"]]);export{Ae as default};
